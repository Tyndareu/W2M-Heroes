@if (heroes()) {
  <h1 class="py-5 text-center text-3xl text-white">List of Heroes</h1>
  <div class="flex flex-wrap justify-center gap-10 bg-chill-950 p-5">
    @for (hero of heroes(); track $index) {
      <mat-card class="relative w-80 pb-12">
        <mat-card-header>
          <div mat-card-avatar class="bg-cover"></div>
          <mat-card-title>{{ hero.superhero | titlecase }} </mat-card-title>
          <mat-card-subtitle
            >{{ hero.alter_ego | titlecase }}
          </mat-card-subtitle>
        </mat-card-header>
        @defer (on viewport) {
          <img
            mat-card-image
            [src]="hero | heroImage"
            [alt]="hero.superhero"
            class="aspect-[384/614] h-auto w-80" />
        } @placeholder {
          <img
            mat-card-image
            src="assets/no-image.png"
            [alt]="hero.superhero"
            class="aspect-[384/614] h-auto w-80" />
        }
        <mat-card-content class="mt-2">
          <h3>{{ hero.publisher }}</h3>
          @if (hero.first_appearance) {
            <p>First appearance: {{ hero.first_appearance }}</p>
          }
        </mat-card-content>
        <mat-card-actions class="absolute bottom-0 flex w-full justify-around">
          <button (click)="deleteHero(hero)" mat-raised-button color="warn">
            Delete
          </button>
          <button
            mat-raised-button
            color="primary"
            (click)="updateAndNavigateHero(hero)">
            Edit
          </button>
        </mat-card-actions>
      </mat-card>
    }
  </div>
} @else {
  <div class="p-5">
    <mat-card class="m-auto max-w-[500px] p-5">
      <mat-card-header class="flex justify-center">
        <mat-card-title>Error loading data</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <p>Sorry, an error occurred while loading the data.</p>
      </mat-card-content>
      <mat-card-actions class="flex justify-center">
        <button mat-raised-button color="primary" (click)="getHeroes()">
          Try again
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
}
